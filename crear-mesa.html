<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crear Mesa de Juego</title>
  <script>
    function crearMesa(event) {
      event.preventDefault();
      const nombreMesa = document.getElementById('nombre-mesa').value;
      const contrasenaMesa = document.getElementById('contrasena-mesa').value;

      if (nombreMesa && contrasenaMesa) {
        // Obtener las mesas existentes del localStorage
        let mesas = JSON.parse(localStorage.getItem('mesas')) || [];
        
        // Agregar la nueva mesa
        mesas.push({ nombre: nombreMesa, contrasena: contrasenaMesa, jugadores: [] });
        
        // Guardar las mesas actualizadas en localStorage
        localStorage.setItem('mesas', JSON.stringify(mesas));

        alert(`Mesa creada: ${nombreMesa}`);
        
        // Redirigir a la página de juego
        window.location.href = `mesa-juego.html?nombreMesa=${nombreMesa}`;
      } else {
        alert('Por favor, completa todos los campos.');
      }
    }
  </script>
</head>
<body>
  <h1>Crear una mesa de juego</h1>
  <form onsubmit="crearMesa(event)">
    <label for="nombre-mesa">Nombre de la mesa:</label>
    <input type="text" id="nombre-mesa" name="nombre-mesa" required><br>
    <label for="contrasena-mesa">Contraseña:</label>
    <input type="password" id="contrasena-mesa" name="contrasena-mesa" required><br>
    <button type="submit">Crear Mesa</button>
  </form>
</body>
</html>